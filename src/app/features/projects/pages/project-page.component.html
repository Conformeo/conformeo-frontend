<h1 class="text-2xl font-semibold mb-6">Chantiers</h1>

<div>
  <div class="flex items-center justify-between mb-2">
    <h2 class="font-medium">Liste des chantiers</h2>
    <button class="btn-primary" (click)="openForm()">Ajouter</button>
  </div>

  <ng-container *ngIf="sites$ | async as sites; else skel">
    <app-site-table [data]="sites" (edit)="openForm($event)"></app-site-table>
  </ng-container>
  <ng-template #skel><app-skeleton height="8rem"></app-skeleton></ng-template>
</div>

<app-modal *ngIf="editingSite" title="Chantier" (closed)="closeForm()">
  <app-site-form
    [site]="editingSite"
    (saved)="onSaved()"
  ></app-site-form>
</app-modal>
